<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrewAI Task Assignment Portal</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- Top Section: Task Assignment Portal -->
    <div class="top-section">
        <h1>CrewAI Task Assignment Portal</h1>
        <form action="/" method="post">
            <label for="task_description">Enter Task Description:</label>
            <textarea id="task_description" name="task_description" rows="10" required></textarea>
            <button type="submit">Submit Task</button>
        </form>
    </div>

    <!-- Middle Section: Agent Forms -->
    <div class="middle-section">
        <div class="agent-form-container">
            <h2>Server Engineer Agent</h2>
            <form action="/update_server" method="post" class="agent-form">
                <label for="server_goal">Goal:</label>
                <textarea id="server_goal" name="server_goal" rows="3">{{ server_goal }}</textarea>
                <label for="server_backstory">Backstory:</label>
                <textarea id="server_backstory" name="server_backstory" rows="3">{{ server_backstory }}</textarea>
                <button type="submit">Update Server Engineer</button>
            </form>
        </div>

        <div class="agent-form-container">
            <h2>Tester Agent</h2>
            <form action="/update_tester" method="post" class="agent-form">
                <label for="tester_goal">Goal:</label>
                <textarea id="tester_goal" name="tester_goal" rows="3">{{ tester_goal }}</textarea>
                <label for="tester_backstory">Backstory:</label>
                <textarea id="tester_backstory" name="tester_backstory" rows="3">{{ tester_backstory }}</textarea>
                <button type="submit">Update Tester</button>
            </form>
        </div>

        <div class="agent-form-container">
            <h2>Manager Agent</h2>
            <form action="/update_manager" method="post" class="agent-form">
                <label for="manager_goal">Goal:</label>
                <textarea id="manager_goal" name="manager_goal" rows="3">{{ manager_goal }}</textarea>
                <label for="manager_backstory">Backstory:</label>
                <textarea id="manager_backstory" name="manager_backstory" rows="3">{{ manager_backstory }}</textarea>
                <button type="submit">Update Engineer Manager</button>
            </form>
        </div>
    </div>

    <!-- Bottom Section: Task Results -->
    <div class="bottom-section">
        <h1>CrewAI Agent Task Results</h1>
        <pre>{{ final_result }}</pre>
    </div>
</body>
</html>
